<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset = "utf-8">
    <meta http-equiv = "X-UA-Compatible" content = "IE=edge">
    <meta name = "viewport" content = "width=device-width, initial-scale=1">
    <title>PEARL Prototype</title>

    <!-- Bootstrap -->
    <link href = "css/bootstrap.min.css" rel = "stylesheet">
    <link href = "css/custom.css" rel = "stylesheet">
    <link rel = "stylesheet" href = "css/font-awesome-4.4.0/css/font-awesome.min.css">
    <link href='http://fonts.googleapis.com/css?family=Exo|Exo+2' rel='stylesheet' type='text/css'>

    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
      <script src = "https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src = "https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <!--script src = "https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script-->
    <!--script type = "text/javascript" src = "js/custom.js"></script-->
    <script src = "js/jquery-2.2.0.min.js"></script>
    <script src = "js/bootstrap.min.js"></script>
    <!--script src = "js/getMeta.js"></script-->
</head>
<body>

    <!-- NAVIGATION BAR -->
	<div class = "navbar navbar-default navbar-fixed-top" role = "navigation">
    		<div class = "container">
    			<div class = "navbar-header">
    				<button type = "button" class = "navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
    					<!-- for screen readers -->
    					<span class = "sr-only">Toggle navigation</span>
    					<span class = "icon-bar"></span>
    					<span class = "icon-bar"></span>
    					<span class = "icon-bar"></span>
    				</button>
    				<a class = "navbar-brand" href = "/foobar"><%= title %></a>
    			</div>

    			<div class = "navbar-collapse collapse">
    				<ul class = "nav navbar-nav navbar-right">
    					<li><a href = "/">Home</a></li>
    					<li><a href = "/">About</a></li>
                        <li class = "dropdown"><a href = "#" class = "dropdown-toggle" data-toggle="dropdown">More PEARL<b class = "caret"></b></a>
                            <ul class = "dropdown-menu">
                                <li class = "active"><a href = "/foobar"><%= title %></a></li>
                                <li><a href = "/sobbat">Sob. Bar.</a></li>
                                <li class = "divider"></li>
                                <li class = "dropdown-header">PEARL Stuff</li>
                                <li><a href = "#">Example 1</a></li>
                                <li><a href = "#">Example 2</a></li>
                            </ul>
                        </li>
                    </ul>
    			</div>
    		</div>
    	</div>

    <!-- Jumbotron -->
	<div class = "container">

        <div class = "row">
            <div class = "col-md-12">
                <h2>See this Map</h2>

                <p class = "blockText">Here is a map for species Foo. Bar.:</p>
                <br>
                <div class = "modelWrapper">
                    <iframe id="myIframe" src = "/md-map" allowfullscreen="" frameborder="1.0">
                    </iframe>
                </div>
            </div>
        </div>

        <div class = "row">
            <div class = "col-md-12">
                <h2>See Another Map</h2>

                <p class = "blockText">Here is another map:</p>
                <br>
                <div class = "modelWrapper">
                    <iframe id="myIframe" src = "/md-map" allowfullscreen="" frameborder="1.0">
                    </iframe>
                </div>
            </div>
        </div>

        <div class = "row">
            <div class = "col-md-6"></div>
            <div class = "col-md-3">
                <form class = "navbar-form navbar-left" role = "search">
                    <div class = "form-group">
                        <input type = "text" class = "form-control" placeholder = "Show..." id = "showIfD">
                    </div>
                </form>
                <br>
                <button id="showD" class="btn btn-default">Show Dispersal Map</button>
            </div>
            <div class = "col-md-3">
                <form class = "navbar-form navbar-left" role = "search">
                    <div class = "form-group">
                        <input type = "text" class = "form-control" placeholder = "Show..." id = "showIfND">
                    </div>
                </form>
                <br>
                <button id="showND" class="btn btn-default">Show No Dispersal Map</button>
            </div>
        </div>
        <div id = "push"></div>
    </div>

    <!-- FOOTER -->
    <footer class = "footer">
        <div class = "container">
            <p class = "footer-text">Author: PEARL  ||  pearl@pearl.cool</p>
        </div>
    </footer>

<!-- Bootstrap core JavaScript -->
<!-- placed at end so pages load faster -->
<script>
function checkErr() {
    var nNode = Number(document.getElementById("numNode").value);
    var nClass = Number(document.getElementById("numClass").value);
    var checkS = document.getElementById("twoSex").checked;
    var checkYoung = document.getElementById("isYoung").checked;
    var checkOld = document.getElementById("isOld").checked;
    var checkMM = document.getElementById("isMM").checked;
    var checkDemo = document.getElementById("isDemo").checked;
    var checkEnvir = document.getElementById("isEnvir").checked;

    var isSex = "one";
    var isYoung = "off";
    var isOld = "off";
    var isMM = "off";
    var isDemo = "off";
    var isEnvir = "off";

    if (checkS) {
        isSex = "two";
    }

    if (checkYoung) {
        isYoung = "on";
    }

    if (checkOld) {
        isOld = "on";
    }

    if (checkMM) {
        isMM = "on";
    }

    if (checkDemo) {
        isDemo = "on";
    }

    if (checkEnvir) {
        isEnvir = "on";
    }

    debugger;

    try {
        if (nNode < 1) throw "must have at least 1 region.";
        if (nNode > 3) throw "must have between 1 and 3 regions.";
        if (nClass < 1) throw "must have at least 1 age class.";
        if (nClass > 10) throw "must have between 1 and 10 age classes.";
        if ((isSex != "one") && (isSex != "two")) throw "sex must be 'one' or 'two'.";
        if ((isYoung != "on") && (isYoung != "off")) throw "DD-young type must be 'on' or 'off'.";
        if ((isOld != "on") && (isOld != "off")) throw "DD-old type must be 'on' or 'off'.";
        if ((isMM != "on") && (isMM != "off")) throw "DD-mature-male type must be 'on' or 'off'.";
        if ((isDemo != "on") && (isDemo != "off")) throw "Demographic must be 'on' or 'off'.";
        if ((isEnvir != "on") && (isEnvir != "off")) throw "Environmental must be 'on' or 'off'.";

        //return true;
        //RedirectURL(nClass, nNode, isS);
        //var myLink = "/population";
        //return myLink;
        //return true;

        $.ajax({
            url: '/foobar',
            type: 'POST',
            cache: false,
            data: {
                numNode: nNode,
                numClass: nClass,
                isSex: isSex,
                isYoung: isYoung,
                isOld: isOld,
                isMM: isMM,
                isDemo: isDemo,
                isEnvir: isEnvir
            },
            success: function (data) {
                alert('\nSuccess!\n');
                window.location = "/population";
            },
            error: function (jqXHR, textStatus, err) {
                alert('\ntext status: ' + textStatus + ', err: ' + err);
            }
        });
        return true;

    } catch(err) {
        alert("Invalid entry: " + err);
    }
    //return false;
}
</script>
</body>
</html>
